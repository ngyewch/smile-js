var z=Object.defineProperty;var J=(r,e,t)=>e in r?z(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var A=(r,e,t)=>J(r,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const d of s.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function t(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(n){if(n.ep)return;n.ep=!0;const s=t(n);fetch(n.href,s)}})();function b(){}function I(r){return r()}function M(){return Object.create(null)}function v(r){r.forEach(I)}function Z(r){return typeof r=="function"}function q(r,e){return r!=r?e==e:r!==e||r&&typeof r=="object"||typeof r=="function"}function R(r){return Object.keys(r).length===0}function m(r,e){r.appendChild(e)}function L(r,e,t){r.insertBefore(e,t||null)}function V(r){r.parentNode&&r.parentNode.removeChild(r)}function p(r){return document.createElement(r)}function j(r){return document.createTextNode(r)}function k(){return j(" ")}function G(r,e,t,i){return r.addEventListener(e,t,i),()=>r.removeEventListener(e,t,i)}function x(r,e,t){t==null?r.removeAttribute(e):r.getAttribute(e)!==t&&r.setAttribute(e,t)}function H(r){return Array.from(r.childNodes)}function Q(r,e){e=""+e,r.data!==e&&(r.data=e)}let P;function $(r){P=r}const y=[],O=[];let w=[];const D=[],W=Promise.resolve();let N=!1;function X(){N||(N=!0,W.then(T))}function F(r){w.push(r)}const U=new Set;let S=0;function T(){if(S!==0)return;const r=P;do{try{for(;S<y.length;){const e=y[S];S++,$(e),Y(e.$$)}}catch(e){throw y.length=0,S=0,e}for($(null),y.length=0,S=0;O.length;)O.pop()();for(let e=0;e<w.length;e+=1){const t=w[e];U.has(t)||(U.add(t),t())}w.length=0}while(y.length);for(;D.length;)D.pop()();N=!1,U.clear(),$(r)}function Y(r){if(r.fragment!==null){r.update(),v(r.before_update);const e=r.dirty;r.dirty=[-1],r.fragment&&r.fragment.p(r.ctx,e),r.after_update.forEach(F)}}function ee(r){const e=[],t=[];w.forEach(i=>r.indexOf(i)===-1?e.push(i):t.push(i)),t.forEach(i=>i()),w=e}const te=new Set;function re(r,e){r&&r.i&&(te.delete(r),r.i(e))}function ne(r,e,t){const{fragment:i,after_update:n}=r.$$;i&&i.m(e,t),F(()=>{const s=r.$$.on_mount.map(I).filter(Z);r.$$.on_destroy?r.$$.on_destroy.push(...s):v(s),r.$$.on_mount=[]}),n.forEach(F)}function ie(r,e){const t=r.$$;t.fragment!==null&&(ee(t.after_update),v(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function se(r,e){r.$$.dirty[0]===-1&&(y.push(r),X(),r.$$.dirty.fill(0)),r.$$.dirty[e/31|0]|=1<<e%31}function ae(r,e,t,i,n,s,d=null,o=[-1]){const u=P;$(r);const a=r.$$={fragment:null,ctx:[],props:s,update:b,not_equal:n,bound:M(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:M(),dirty:o,skip_bound:!1,root:e.target||u.$$.root};d&&d(a.root);let c=!1;if(a.ctx=t?t(r,e.props||{},(h,_,...f)=>{const g=f.length?f[0]:_;return a.ctx&&n(a.ctx[h],a.ctx[h]=g)&&(!a.skip_bound&&a.bound[h]&&a.bound[h](g),c&&se(r,h)),_}):[],a.update(),c=!0,v(a.before_update),a.fragment=i?i(a.ctx):!1,e.target){if(e.hydrate){const h=H(e.target);a.fragment&&a.fragment.l(h),h.forEach(V)}else a.fragment&&a.fragment.c();e.intro&&re(r.$$.fragment),ne(r,e.target,e.anchor),T()}$(u)}class de{constructor(){A(this,"$$");A(this,"$$set")}$destroy(){ie(this,1),this.$destroy=b}$on(e,t){if(!Z(t))return b;const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(t),()=>{const n=i.indexOf(t);n!==-1&&i.splice(n,1)}}$set(e){this.$$set&&!R(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const oe="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(oe);class l extends Error{constructor(e){super(e)}}const C=[0,1,3,7,15,31,63,127,255];class K{decodeZigZag(e){if(e<0)throw new l("illegal zigzag value");return e<=2147483647?e&1?-(e>>1)-1:e>>1:e&1?-Math.floor(e/2)-1:Math.floor(e/2)}decodeAscii(e){return new TextDecoder("ascii").decode(e)}decodeUtf8(e){return new TextDecoder("utf8").decode(e)}toDataView(e){const t=new ArrayBuffer(e.length),i=new DataView(t);for(let n=0;n<e.length;n++)i.setUint8(n,e[n]);return i}decodeFloat32(e){return this.toDataView(e).getFloat32(0,!1)}decodeFloat64(e){return this.toDataView(e).getFloat64(0,!1)}decodeFixedLengthBigEndianEncodedBits(e,t){const i=new Uint8Array(Math.ceil(t/8));let n=0,s=t%7,d=0,o=0,u=e[n],a=0,c;for(;n<e.length;){const h=Math.min(s,8-o);a<<=h,a|=u>>s-h,s-=h,u&=C[s],o+=h,s===0&&(n++,s=7,u=e[n]),o===8&&(c=d,i[c]=a,d++,o=0,a=0)}return o>0&&(a<<=8-o,c=d,i[c]=a),i}decodeSafeBinaryEncodedBits(e,t){const i=new Uint8Array(Math.ceil(t/8));let n=0,s=7,d=0,o=0,u=e[n],a=0;for(;d<i.length;){const c=Math.min(s,8-o);a<<=c,a|=u>>s-c,s-=c,u&=C[s],o+=c,s===0&&(n++,s=7,u=e[n]),o===8&&(i[d]=a,d++,o=0,a=0)}return o>0&&(a<<=8-o,i[d]=a),i}}class ce{constructor(e){this.inputStream=e,this.decoder=new K}isEof(){return this.inputStream.isEof()}read(){return this.inputStream.read()}peek(){return this.inputStream.peek()}readUnsignedVint(){let e=0,t=0;function i(n,s){const d=[0,1,3,7,15,31,63,127,255],o=[1,2,4,8,16,32,64,128];t+s<32?(e<<=s,e|=n&d[s]):(e*=o[s],e+=n&d[s]),t+=s}for(;;){const n=this.inputStream.read();if(n&128)return i(n,6),e;i(n,7)}}readSignedVint(){return this.decoder.decodeZigZag(this.readUnsignedVint())}readAscii(e){return this.decoder.decodeAscii(this.inputStream.readArray(e))}readUtf8(e){return this.decoder.decodeUtf8(this.inputStream.readArray(e))}readFloat32(){return this.decoder.decodeFloat32(this.readFixedLengthBigEndianEncodedBits(32))}readFloat64(){return this.decoder.decodeFloat64(this.readFixedLengthBigEndianEncodedBits(64))}readFixedLengthBigEndianEncodedBits(e){const t=this.inputStream.readArray(Math.ceil(e/7));return this.decoder.decodeFixedLengthBigEndianEncodedBits(t,e)}readSafeBinary(){const e=this.readUnsignedVint(),t=this.inputStream.readArray(Math.ceil(e*8/7));return this.decoder.decodeSafeBinaryEncodedBits(t,e*8)}readBigInt(){const e=this.readSafeBinary();let t=0;for(let i=0;i<e.length;i++)t=t*256+e[i];return t}readBigDecimal(){const e=this.readSignedVint();return this.readBigInt()*Math.pow(10,e)}readLongString(){const e=[];for(;;){const t=this.inputStream.read();if(t===252)break;e.push(t)}return new Uint8Array(e)}readLongAscii(){return this.decoder.decodeAscii(this.readLongString())}readLongUtf8(){return this.decoder.decodeUtf8(this.readLongString())}readBytes(e){return this.inputStream.readArray(e)}}const B=new l("end of input stream reached");class ue{constructor(e){this.index=0,this.array=e}isEof(){return this.index>=this.array.length}read(){if(this.isEof())throw B;const e=this.array[this.index];return this.index++,e}readArray(e){if(this.isEof())throw B;if(e<0)throw new l("invalid read amount");const t=Math.min(this.array.length,this.index+e),i=this.array.subarray(this.index,t);return this.index=t,i}peek(){if(this.isEof())throw B;return this.array[this.index]}skip(e){if(this.isEof())throw B;if(e<0)throw new l("invalid skip amount");this.index+=e}}class E{constructor(e,t){if(t>1024)throw new l("maxStrings must be <= 1024");this.enabled=e,this.maxStrings=t,this.strings=[]}addString(e){if(!this.enabled)return-1;this.strings.length>=this.maxStrings&&(this.strings=[]);const t=this.strings.length;return this.strings.push(e),t}getString(e){if(!this.enabled)throw new l("shared strings are not enabled.");if(e>=this.strings.length)throw new l("shared string reference out of range.");return this.strings[e]}}function he(r,e){return new le(r,e).parse()}class le{constructor(e,t){this.decoderStream=new ce(new ue(e)),this.options=t,this.decoder=new K,this.sharedPropertyName=!1,this.sharedStringValue=!1,this.rawBinary=!1,this.version=0,this.sharedPropertyNames=new E(!1,1024),this.sharedStringValues=new E(!1,1024)}parse(){const e=this.decoderStream.read(),t=this.decoderStream.read(),i=this.decoderStream.read();if(e!==58||t!==41||i!==10)throw new l("invalid Smile header");const n=this.decoderStream.read();return this.sharedPropertyName=(n&1)===1,this.sharedStringValue=(n&2)===2,this.rawBinary=(n&4)===4,this.version=n>>4,this.sharedPropertyNames=new E(this.sharedPropertyName,1024),this.sharedStringValues=new E(this.sharedStringValue,1024),this.readValue()}readValue(){const e=this.decoderStream.read(),t=e>>5,i=e&31;switch(t){case 0:return this.sharedStringValues.getString(i);case 1:return this.readSimpleLiteralValue(e);case 2:{const n=this.decoderStream.readAscii(i+1);return this.sharedStringValues.addString(n),n}case 3:{const n=this.decoderStream.readAscii(i+33);return this.sharedStringValues.addString(n),n}case 4:{const n=this.decoderStream.readUtf8(i+2);return this.sharedStringValues.addString(n),n}case 5:{const n=this.decoderStream.readUtf8(i+34);return this.sharedStringValues.addString(n),n}case 6:return this.decoder.decodeZigZag(i);case 7:return this.readBinaryLongTextStructureValues(e);default:throw new l(`unknown token class: ${t}`)}}readSimpleLiteralValue(e){if(e===32)return"";if(e===33)return null;if(e===34)return!1;if(e===35)return!0;if(e===36)return this.decoderStream.readSignedVint();if(e===37)return this.decoderStream.readSignedVint();if(e===38)return this.decoderStream.readBigInt();if(e===40)return this.decoderStream.readFloat32();if(e===41)return this.decoderStream.readFloat64();if(e===42)return this.decoderStream.readBigDecimal();throw new l("invalid value token 0x"+e.toString(16))}readBinaryLongTextStructureValues(e){if(e===224)return this.decoderStream.readLongAscii();if(e===228)return this.decoderStream.readLongUtf8();if(e===232)return this.decoderStream.readSafeBinary();if(e>=236&&e<=239){const t=(e&3)<<8|this.decoderStream.read();if(t<64)throw new l("invalid long shared value name reference");return this.sharedStringValues.getString(t)}else if(e===248){const t=[];for(;this.decoderStream.peek()!==249;)t.push(this.readValue());return this.decoderStream.read(),t}else if(e===250){const t={};for(;this.decoderStream.peek()!==251;){const i=this.readKey(),n=this.readValue();t[i]=n}return this.decoderStream.read(),t}else if(e===253){const t=this.decoderStream.readUnsignedVint();return this.decoderStream.readBytes(t)}else throw new l("invalid value token 0x"+e.toString(16))}readKey(){const e=this.decoderStream.read();if(e===32)return"";if(e>=48&&e<=51){const t=(e&3)<<8|this.decoderStream.read();if(t<64)throw new l("invalid long shared key name reference.");return this.sharedPropertyNames.getString(t)}else{if(e===52)return this.decoderStream.readLongUtf8();if(e>=64&&e<=127){const t=e&63;return this.sharedPropertyNames.getString(t)}else if(e>=128&&e<=191){const t=this.decoderStream.readAscii((e&63)+1);return this.sharedPropertyNames.addString(t),t}else if(e>=192&&e<=247){const t=this.decoderStream.readUtf8((e&63)+2);return this.sharedPropertyNames.addString(t),t}else throw new l("invalid key token 0x"+e.toString(16))}}}function fe(r){let e,t,i,n,s,d,o,u,a,c,h,_;return{c(){e=p("div"),t=p("label"),t.textContent="Select SMILE-encoded file",i=k(),n=p("input"),s=k(),d=p("div"),o=p("label"),o.textContent="JSON representation:",u=k(),a=p("pre"),c=j(r[0]),x(t,"for","file"),x(n,"id","file"),x(n,"type","file"),x(o,"for","output"),x(a,"id","output")},m(f,g){L(f,e,g),m(e,t),m(e,i),m(e,n),L(f,s,g),L(f,d,g),m(d,o),m(d,u),m(d,a),m(a,c),h||(_=G(n,"change",r[1]),h=!0)},p(f,[g]){g&1&&Q(c,f[0])},i:b,o:b,d(f){f&&(V(e),V(s),V(d)),h=!1,_()}}}function ge(r,e,t){let i="";function n(s){const d=s.target;if(!d.files||d.files.length<1)return;const o=d.files.item(0);o&&o.arrayBuffer().then(u=>{const a=new Uint8Array(u);try{const c=he(a);console.log(c),t(0,i=JSON.stringify(c,null,2))}catch(c){alert(c)}}).catch(u=>{alert(u)})}return[i,n]}class me extends de{constructor(e){super(),ae(this,e,ge,fe,q,{})}}new me({target:document.body});
//# sourceMappingURL=index-B9h6bTxP.js.map
